<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Akun - MAINTAIN HEALTH</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif;
        }

        body {
            background: #f5f5f5;
            min-height: 100vh;
        }

        /* HEADER */
        .dashboard-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 24px;
            text-align: center;
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .dashboard-header h1 {
            font-size: 2rem;
            margin-bottom: 8px;
        }

        .dashboard-header p {
            opacity: 0.9;
            font-size: 1rem;
        }

        .back-button {
            position: absolute;
            top: 24px;
            left: 24px;
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 8px 16px;
            border-radius: 30px;
            backdrop-filter: blur(10px);
        }

        /* CONTENT */
        .content {
            padding: 16px;
            max-width: 600px;
            margin: 0 auto;
        }

        /* CARD */
        .card {
            background: white;
            border-radius: 24px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 12px;
        }

        .card-header h2 {
            color: #333;
            font-size: 1.3rem;
        }

        .card-header span {
            font-size: 1.8rem;
        }

        /* PROFILE AVATAR */
        .profile-avatar {
            text-align: center;
            margin-bottom: 24px;
        }

        .avatar-image {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            margin: 0 auto 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 48px;
            border: 4px solid white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .avatar-buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
        }

        /* FORM */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .input-group {
            display: flex;
            gap: 8px;
        }

        .input-group input {
            flex: 1;
            padding: 14px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s;
            background: #f9f9f9;
        }

        .input-group input:focus {
            border-color: #667eea;
            outline: none;
            background: white;
        }

        .input-group input:not([readonly]) {
            background: white;
            border-color: #667eea;
        }

        .input-group button {
            padding: 0 20px;
            border: none;
            border-radius: 12px;
            background: #f0f0f0;
            color: #333;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
        }

        .input-group button:hover {
            background: #e0e0e0;
        }

        /* BUTTONS */
        .btn {
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 16px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 12px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-danger {
            background: #f56565;
            color: white;
        }

        .btn-danger:hover {
            background: #e53e3e;
        }

        /* LANGUAGE SELECT */
        .language-select {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 1rem;
            background: white;
            cursor: pointer;
        }

        .language-select:focus {
            border-color: #667eea;
            outline: none;
        }

        /* INFO ROW */
        .info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .info-label {
            color: #666;
            font-weight: 600;
        }

        .info-value {
            color: #333;
        }

        /* NOTIFICATION */
        .custom-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 16px 24px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 10000;
            animation: slideIn 0.3s;
            max-width: 350px;
        }

        .notification-success {
            border-left: 4px solid #48bb78;
        }

        .notification-error {
            border-left: 4px solid #f56565;
        }

        .notification-info {
            border-left: 4px solid #4299e1;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* MODAL */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 24px;
            padding: 24px;
            width: 90%;
            max-width: 400px;
        }

        .modal-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .modal-header h3 {
            color: #333;
            font-size: 1.5rem;
        }
    </style>
</head>
<body>
    <div class="dashboard-header">
        <button class="back-button" onclick="goBack()">‚Üê</button>
        <h1>AKUN SAYA</h1>
        <p>Kelola profil dan pengaturan akun</p>
    </div>

    <div class="content">
        <!-- PROFILE CARD -->
        <div class="card">
            <div class="card-header">
                <span>üë§</span>
                <h2>PROFILE</h2>
            </div>

            <!-- Avatar -->
            <div class="profile-avatar">
                <div class="avatar-image" id="avatarImage">
                    üë§
                </div>
                <div class="avatar-buttons">
                    <button class="btn btn-primary" style="width: auto; padding: 10px 20px;" onclick="editFoto()">
                        üì∑ Ganti Foto
                    </button>
                    <button class="btn btn-secondary" style="width: auto; padding: 10px 20px; background: #f0f0f0;" onclick="hapusFoto()">
                        üóëÔ∏è Hapus
                    </button>
                </div>
            </div>

            <!-- Email -->
            <div class="form-group">
                <label>üìß Email</label>
                <div class="input-group">
                    <input type="email" id="email" value="salsabillah@example.com" readonly>
                    <button onclick="editField('email')" id="btn-email">Ubah</button>
                </div>
            </div>

            <!-- Username -->
            <div class="form-group">
                <label>üë§ Username</label>
                <div class="input-group">
                    <input type="text" id="username" value="salsabillah_kirana" readonly>
                    <button onclick="editField('username')" id="btn-username">Ubah</button>
                </div>
                <small id="username-status" style="color: #48bb78; display: none;">‚úì Username tersedia</small>
            </div>

            <!-- Nomor HP -->
            <div class="form-group">
                <label>üì± Nomor HP</label>
                <div class="input-group">
                    <input type="tel" id="phone" value="081234567890" readonly>
                    <button onclick="editField('phone')" id="btn-phone">Ubah</button>
                </div>
            </div>

            <!-- Password -->
            <div class="form-group">
                <label>üîí Password</label>
                <button class="btn btn-primary" onclick="editPassword()" style="margin-top: 8px;">
                    üîë Ubah Password
                </button>
            </div>

            <!-- Bahasa -->
            <div class="form-group">
                <label>üåê Bahasa</label>
                <select class="language-select" id="language" onchange="changeLanguage()">
                    <option value="id">Indonesia</option>
                    <option value="en">English</option>
                    <option value="ja">Êó•Êú¨Ë™û (Japanese)</option>
                    <option value="ko">ÌïúÍµ≠Ïñ¥ (Korean)</option>
                    <option value="zh">‰∏≠Êñá (Chinese)</option>
                    <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ© (Arabic)</option>
                </select>
            </div>
        </div>

        <!-- PENGATURAN CARD -->
        <div class="card">
            <div class="card-header">
                <span>‚öôÔ∏è</span>
                <h2>PENGATURAN</h2>
            </div>

            <div class="info-row">
                <span class="info-label">üìÖ Tanggal Daftar</span>
                <span class="info-value" id="registerDate">1 Januari 2024</span>
            </div>

            <div class="info-row">
                <span class="info-label">üïê Terakhir Login</span>
                <span class="info-value" id="lastLogin">-</span>
            </div>

            <div class="info-row">
                <span class="info-label">üìä Versi Aplikasi</span>
                <span class="info-value">1.0.0</span>
            </div>

            <button class="btn btn-danger" onclick="logout()" style="margin-top: 20px;">
                üö™ Log Out
            </button>
        </div>

        <!-- INFO CARD -->
        <div class="card">
            <div class="card-header">
                <span>‚ÑπÔ∏è</span>
                <h2>TENTANG APLIKASI</h2>
            </div>

            <div style="text-align: center; margin-bottom: 16px;">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' width='80' height='80'%3E%3Ccircle cx='50' cy='50' r='45' fill='%23667eea' opacity='0.2'/%3E%3Ccircle cx='50' cy='50' r='30' fill='%23667eea' opacity='0.4'/%3E%3Ccircle cx='50' cy='50' r='15' fill='%23667eea'/%3E%3Ctext x='50' y='60' text-anchor='middle' fill='white' font-size='30' font-weight='bold' dy='.3em'%3EMH%3C/text%3E%3C/svg%3E" alt="Logo">
            </div>

            <p style="text-align: center; color: #333; font-weight: bold; margin-bottom: 8px;">
                MAINTAIN HEALTH
            </p>
            <p style="text-align: center; color: #666; font-size: 0.9rem; margin-bottom: 4px;">
                by Salsabillah Kirana Rahmadani
            </p>
            <p style="text-align: center; color: #999; font-size: 0.8rem;">
                Versi 1.0.0 (2024)
            </p>
        </div>
    </div>

    <!-- MODAL OTP -->
    <div class="modal" id="otpModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üîê Verifikasi OTP</h3>
                <p style="color: #666; margin-top: 8px;">Kode telah dikirim ke nomor Anda</p>
            </div>

            <div style="display: flex; gap: 8px; justify-content: center; margin: 24px 0;">
                <input type="text" class="otp-input" maxlength="1" style="width: 50px; height: 60px; text-align: center; font-size: 1.5rem; border: 2px solid #e0e0e0; border-radius: 12px;" onkeyup="moveOtp(this, 0)">
                <input type="text" class="otp-input" maxlength="1" style="width: 50px; height: 60px; text-align: center; font-size: 1.5rem; border: 2px solid #e0e0e0; border-radius: 12px;" onkeyup="moveOtp(this, 1)">
                <input type="text" class="otp-input" maxlength="1" style="width: 50px; height: 60px; text-align: center; font-size: 1.5rem; border: 2px solid #e0e0e0; border-radius: 12px;" onkeyup="moveOtp(this, 2)">
                <input type="text" class="otp-input" maxlength="1" style="width: 50px; height: 60px; text-align: center; font-size: 1.5rem; border: 2px solid #e0e0e0; border-radius: 12px;" onkeyup="moveOtp(this, 3)">
                <input type="text" class="otp-input" maxlength="1" style="width: 50px; height: 60px; text-align: center; font-size: 1.5rem; border: 2px solid #e0e0e0; border-radius: 12px;" onkeyup="moveOtp(this, 4)">
                <input type="text" class="otp-input" maxlength="1" style="width: 50px; height: 60px; text-align: center; font-size: 1.5rem; border: 2px solid #e0e0e0; border-radius: 12px;" onkeyup="moveOtp(this, 5)">
            </div>

            <div style="text-align: center; margin: 16px 0;">
                <span class="resend-link" onclick="resendOtp()" style="color: #667eea; cursor: pointer;">Kirim ulang kode</span>
                <div id="otpTimer" style="color: #999; margin-top: 8px;">01:00</div>
            </div>

            <button class="btn btn-primary" onclick="verifyOtp()">Verifikasi</button>
            <button class="btn btn-secondary" onclick="closeModal()" style="background: #f0f0f0; margin-top: 8px;">Tutup</button>
        </div>
    </div>

    <script>
        // ========== STATE ==========
        let editingField = null;
        let otpTimer;
        let otpTimeLeft = 60;

        // ========== NOTIFICATION ==========
        function showNotification(message, type = 'success') {
            const notif = document.createElement('div');
            notif.className = `custom-notification notification-${type}`;
            notif.innerHTML = `
                <span class="notification-icon">${getIcon(type)}</span>
                <span class="notification-message">${message}</span>
                <span class="notification-close" onclick="this.parentElement.remove()">‚úï</span>
            `;
            document.body.appendChild(notif);
            
            setTimeout(() => notif.remove(), 3000);
        }

        function getIcon(type) {
            switch(type) {
                case 'success': return '‚úÖ';
                case 'error': return '‚ùå';
                case 'info': return '‚ÑπÔ∏è';
                default: return '‚úÖ';
            }
        }

        // ========== NAVIGATION ==========
        function goBack() {
            window.location.href = 'dashboard.html';
        }

        // ========== DATE ==========
        function updateLastLogin() {
            const now = new Date();
            document.getElementById('lastLogin').textContent = now.toLocaleString('id-ID');
        }
        updateLastLogin();

        // ========== EDIT FIELD ==========
        function editField(field) {
            const input = document.getElementById(field);
            const btn = document.getElementById(`btn-${field}`);
            
            if (input.readOnly) {
                // Mode edit
                input.readOnly = false;
                input.focus();
                btn.textContent = 'Simpan';
                
                if (field === 'username') {
                    // Simulasi cek ketersediaan username
                    document.getElementById('username-status').style.display = 'block';
                }
            } else {
                // Mode simpan
                const value = input.value.trim();
                
                if (!value) {
                    showNotification(`${field} tidak boleh kosong`, 'error');
                    return;
                }
                
                if (field === 'email' && !value.includes('@')) {
                    showNotification('Email tidak valid', 'error');
                    return;
                }
                
                if (field === 'phone' && value.length < 10) {
                    showNotification('Nomor telepon tidak valid', 'error');
                    return;
                }
                
                // Simpan perubahan
                input.readOnly = true;
                btn.textContent = 'Ubah';
                
                if (field === 'username') {
                    document.getElementById('username-status').style.display = 'none';
                }
                
                if (field === 'phone') {
                    // Tampilkan OTP modal
                    showOtpModal();
                } else {
                    showNotification(`‚úÖ ${field} berhasil diperbarui`);
                }
                
                // Simpan ke localStorage
                localStorage.setItem(field, value);
            }
        }

        // ========== PASSWORD ==========
        function editPassword() {
            const currentPass = prompt('Masukkan password saat ini:');
            if (!currentPass) return;
            
            const newPass = prompt('Masukkan password baru (minimal 6 karakter):');
            if (!newPass) return;
            
            if (newPass.length < 6) {
                showNotification('Password minimal 6 karakter', 'error');
                return;
            }
            
            const confirmPass = prompt('Konfirmasi password baru:');
            if (newPass !== confirmPass) {
                showNotification('Password tidak cocok', 'error');
                return;
            }
            
            showNotification('‚úÖ Password berhasil diperbarui');
        }

        // ========== FOTO ==========
        function editFoto() {
            const confirm = window.confirm('Pilih sumber foto:\nOK = Buka Kamera\nCancel = Buka Galeri');
            
            if (confirm) {
                showNotification('üì∑ Membuka kamera...', 'info');
                setTimeout(() => {
                    document.getElementById('avatarImage').innerHTML = 'üì∏';
                    showNotification('‚úÖ Foto berhasil diambil');
                }, 2000);
            } else {
                showNotification('üñºÔ∏è Membuka galeri...', 'info');
                setTimeout(() => {
                    document.getElementById('avatarImage').innerHTML = 'üñºÔ∏è';
                    showNotification('‚úÖ Foto berhasil dipilih');
                }, 2000);
            }
        }

        function hapusFoto() {
            if (confirm('Yakin ingin menghapus foto profil?')) {
                document.getElementById('avatarImage').innerHTML = 'üë§';
                showNotification('‚úÖ Foto profil dihapus');
            }
        }

        // ========== LANGUAGE ==========
        function changeLanguage() {
            const lang = document.getElementById('language').value;
            const languages = {
                id: 'Indonesia',
                en: 'English',
                ja: 'Japanese',
                ko: 'Korean',
                zh: 'Chinese',
                ar: 'Arabic'
            };
            showNotification(`üåê Bahasa diubah ke ${languages[lang]}`);
            localStorage.setItem('language', lang);
        }

        // ========== OTP MODAL ==========
        function showOtpModal() {
            document.getElementById('otpModal').classList.add('active');
            startOtpTimer();
        }

        function closeModal() {
            document.getElementById('otpModal').classList.remove('active');
            clearInterval(otpTimer);
        }

        function startOtpTimer() {
            otpTimeLeft = 60;
            updateOtpTimer();
            
            otpTimer = setInterval(() => {
                otpTimeLeft--;
                updateOtpTimer();
                
                if (otpTimeLeft <= 0) {
                    clearInterval(otpTimer);
                    document.getElementById('otpTimer').textContent = 'Kode expired';
                }
            }, 1000);
        }

        function updateOtpTimer() {
            const minutes = Math.floor(otpTimeLeft / 60);
            const seconds = otpTimeLeft % 60;
            document.getElementById('otpTimer').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function moveOtp(input, index) {
            if (input.value.length === 1 && index < 5) {
                document.querySelectorAll('.otp-input')[index + 1].focus();
            }
        }

        function resendOtp() {
            clearInterval(otpTimer);
            startOtpTimer();
            showNotification('üì± Kode OTP telah dikirim ulang');
        }

        function verifyOtp() {
            const inputs = document.querySelectorAll('.otp-input');
            let otp = '';
            inputs.forEach(i => otp += i.value);
            
            if (otp.length === 6) {
                showNotification('‚úÖ Nomor telepon berhasil diverifikasi');
                closeModal();
                
                // Reset OTP inputs
                inputs.forEach(i => i.value = '');
            } else {
                showNotification('‚ùå Kode OTP tidak valid', 'error');
            }
        }

        // ========== LOGOUT ==========
        function logout() {
            if (confirm('Apakah Anda yakin ingin keluar?')) {
                showNotification('üëã Sampai jumpa kembali!');
                setTimeout(() => {
                    window.location.href = 'login.html';
                }, 1500);
            }
        }

        // ========== INIT ==========
        document.addEventListener('DOMContentLoaded', function() {
            // Load saved data
            const savedEmail = localStorage.getItem('email');
            const savedUsername = localStorage.getItem('username');
            const savedPhone = localStorage.getItem('phone');
            const savedLang = localStorage.getItem('language');
            
            if (savedEmail) document.getElementById('email').value = savedEmail;
            if (savedUsername) document.getElementById('username').value = savedUsername;
            if (savedPhone) document.getElementById('phone').value = savedPhone;
            if (savedLang) document.getElementById('language').value = savedLang;
        });
    </script>
</body>
</html>